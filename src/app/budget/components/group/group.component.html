<div [ngClass]="'group-box'">
    <div [ngClass]="'group-info'">
        <p [ngClass]="'group-name'">{{group.title}}</p>
        <p [ngClass]="'group-amount'">Budgeted</p>
        <p [ngClass]="'group-amount'">Received</p>
        <p [ngClass]="'group-amount'">Available</p>
    </div>
    <app-group-item  (changedValue)="bubbleValue($event)" *ngFor="let item of items; let i = index"
        [item]="item" [groupName]="group.title" [itemIndex]="i" [groupIndex]="groupIndex"></app-group-item>
    <div *ngIf="addingItem" [ngClass]="'item'" [ngStyle]="{'background-color': '#0091d946'}">
        <div [ngClass]="'item-row'">
            <input (blur)="collectName($event)" [ngClass]="'item-name'" value="Default">
            <input (blur)="collectBudgeted($event)" [ngClass]="'item-amount'" value="0.00">
            <p [ngClass]="'item-received'">0.00</p>
        </div>
        <div [ngClass]="'new-item-buttons'">
            <button [ngClass]="'new-item-button'" (click)="sendValueUp()"> Save </button>
            <button [ngClass]="'new-item-button'" (click)="cancelChanges()"> Cancel </button>
        </div>
    </div>
    <div [ngClass]="'group-info'">
        <p *ngIf="addingItem" [ngClass]="'add-item'" (click)="sendValueUp()"> Save Item </p>
        <p *ngIf="!addingItem" [ngClass]="'add-item'" (click)="this.addingItem = !this.addingItem"> Add Item </p>
        <p [ngClass]="'total-value'"> {{formatMoney(group.total_budgeted)}} </p>
        <p [ngClass]="'total-value'"> {{formatMoney(group.total_received)}}</p>
        <p [ngClass]="'total-value'"> {{formatMoney(group.total_budgeted - group.total_received)}} </p>
    </div>
</div>
